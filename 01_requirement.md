# 요구사항 정의서

## 1. 프로젝트 개요

### 1.1 목적

네이버 검색 결과에서 특정 콘텐츠(플레이스, 인기글)의 노출 순위를 확인하고, 일별 순위 변동을 트래킹하는 웹 서비스

### 1.2 주요 기능

- 검색어 + URL 입력 시 해당 콘텐츠의 현재 순위 조회
- 등록된 키워드에 대한 일일 자동 순위 트래킹
- 순위 변동 히스토리 조회

---

## 2. 기능 요구사항

### 2.1 검색 대상

| 구분 | 설명 | 식별 방식 |
|------|------|-----------|
| 플레이스 | 네이버 지도/플레이스 검색 결과 | URL 내 Place ID |
| 인기글 | 건강·의학 등 카테고리별 인기글 섹션 | 블로그/카페 URL |

### 2.2 순위 조회

- 조회 범위: 검색 결과 첫 화면에 노출되는 항목까지
- 실시간 조회: 사용자가 키워드 + URL 입력 시 즉시 순위 반환
- 미노출 처리: 첫 화면 내 미노출 시 "순위권 외" 표시

### 2.3 순위 트래킹

- 기본 주기: 1일 1회
- 확장 구조: 향후 다중 체크 가능하도록 설계
- 트래킹 시작: 키워드 등록 시점부터
- 데이터 보관: 무제한 (전체 히스토리 DB 저장)

### 2.4 사용자 기능

| 기능 | 설명 |
|------|------|
| 회원가입 | 이메일 + 비밀번호 |
| 로그인 | 쿠키 기반 세션, Remember Me 지원 |
| 키워드 등록 | 검색어 + URL + 검색 대상(플레이스/인기글) |
| 순위 조회 | 등록된 키워드의 현재 순위 확인 |
| 히스토리 조회 | 일별 순위 변동 내역 |
| 키워드 관리 | 등록/수정/삭제 |

### 2.5 제외 범위 (v1.0)

- 관리자 기능
- 알림 기능 (이메일, 카카오톡 등)
- 소셜 로그인
- 사용자별 키워드 수 제한

---

## 3. 비기능 요구사항

### 3.1 성능

- 실시간 순위 조회: 10초 이내 응답
- 일일 배치: 전체 키워드 처리 완료 (새벽 시간대)

### 3.2 확장성

- 트래킹 주기 확장 가능한 구조
- 검색 대상 타입 추가 가능한 구조

### 3.3 안정성

- 네이버 차단 대응: Rate Limiting, User-Agent 로테이션
- 크롤링 실패 시 재시도 로직

---

## 4. 리스크 및 대응

| 리스크 | 영향 | 대응 방안 |
|--------|------|-----------|
| 네이버 크롤링 차단 | 서비스 불가 | Rate limiting, UA 로테이션 |
| IP 차단 | 서비스 불가 | Rotating Proxy 사용으로 요청마다 IP 변경 |
| 네이버 HTML 구조 변경 | 크롤링 실패 | 크롤러 즉시 수정 필요 (연 2~4회 예상) |
| 대량 키워드 처리 지연 | 일일 체크 미완료 | Celery 워커 스케일 아웃 |

---

## 5. 향후 확장 고려사항

- 관리자 기능
- 순위 변동 알림 (이메일, 카카오톡)
- 검색 대상 확장 (블로그, 카페, VIEW 탭 등)
- 트래킹 주기 커스터마이징
- 경쟁사 순위 비교 기능
- 리포트 다운로드 (PDF, Excel)
